<div class="container-fluid vh-100 p-0">
  <div class="row g-0 vh-100" style="background: linear-gradient(135deg, #2f517b, #1b2838, #253447);">

    <!-- Left Section: Welcome / Info Text -->
    <div class="col-lg-6 d-none d-lg-flex flex-column justify-content-center align-items-center text-white p-5">
      <h1 class="display-4 fw-bold floating-text">Forex Trader</h1>

      <h1 class="text-center mb-3 fw-bold glow floating-text">Join Our Community</h1>
      
      <p class="fs-5 text-center mb-4 glow fade-in-text" style="max-width: 400px;">
        Create an account to get started and enjoy exclusive benefits, personalized insights, and 24/7 support.
      </p>
      
      <ul class="list-unstyled fs-6 text-center glow fade-in-text" style="max-width: 400px;">
        <li>✔ Intelligent dashboards tailored for you</li>
        <li>✔ Secure and fast transactions</li>
        <li>✔ Real-time market updates and alerts</li>
        <li>✔ Join a community of expert traders</li>
      </ul>
    </div>


    <!-- Right Section: Registration Form -->
    <div class="col-12 col-lg-6 d-flex justify-content-center align-items-center">
      <div class="card p-4 shadow-lg border-0" style="width: 90%; max-width: 420px; background-color: #1e2a38; color: #e0e1dd; border-radius: 1rem; max-height: 90vh; overflow-y: auto;">

        <!-- Registration Form -->
        <form (ngSubmit)="onSubmit()" #registerForm="ngForm" class="needs-validation" novalidate>

          <!-- User Name -->
          <div class="mb-3">
            <label for="username" class="form-label fw-semibold text-light">User Name</label>
            <input
              type="text"
              id="username"
              name="username"
              class="form-control bg-dark text-white border-secondary"
              [(ngModel)]="username"
              required
              placeholder="Enter User Name">
            <div *ngIf="registerForm.controls['username']?.invalid && (registerForm.controls['username']?.touched || registerForm.submitted)" class="text-danger small mt-1">
              User Name is required.
            </div>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label for="email" class="form-label fw-semibold text-light">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              class="form-control bg-dark text-white border-secondary"
              [(ngModel)]="email"
              required
              placeholder="Enter Email">
            <div *ngIf="registerForm.controls['email']?.invalid && (registerForm.controls['email']?.touched || registerForm.submitted)" class="text-danger small mt-1">
              Email is required.
            </div>
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label for="password" class="form-label fw-semibold text-light">Password</label>
            <div class="position-relative">
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                name="password"
                class="form-control bg-dark text-white border-secondary"
                [(ngModel)]="password"
                (input)="onPasswordInput()"
                required
                placeholder="Enter Password">
              <span class="position-absolute top-50 end-0 translate-middle-y me-3" style="cursor:pointer;" (click)="togglePassword()">
                <i [ngClass]="showPassword ? 'bi-eye-fill text-white' : 'bi-eye-slash-fill text-white'"></i>
              </span>
            </div>
            <ul class="small ps-3 mt-2">
              <li [ngClass]="{'text-success': passwordValidations.minLength, 'text-danger': !passwordValidations.minLength}">
                {{ passwordValidations.minLength ? '✔' : '✖' }} At least 8 characters
              </li>
              <li [ngClass]="{'text-success': passwordValidations.upperCase, 'text-danger': !passwordValidations.upperCase}">
                {{ passwordValidations.upperCase ? '✔' : '✖' }} One uppercase letter
              </li>
              <li [ngClass]="{'text-success': passwordValidations.lowerCase, 'text-danger': !passwordValidations.lowerCase}">
                {{ passwordValidations.lowerCase ? '✔' : '✖' }} One lowercase letter
              </li>
              <li [ngClass]="{'text-success': passwordValidations.digit, 'text-danger': !passwordValidations.digit}">
                {{ passwordValidations.digit ? '✔' : '✖' }} One digit
              </li>
              <li [ngClass]="{'text-success': passwordValidations.specialChar, 'text-danger': !passwordValidations.specialChar}">
                {{ passwordValidations.specialChar ? '✔' : '✖' }} One special character
              </li>
            </ul>
          </div>

          <!-- MPIN -->
          <div class="mb-3">
            <label for="mpin" class="form-label fw-semibold text-light">MPIN (4 digits)</label>
            <div class="position-relative">
              <input
                [type]="showMPIN ? 'text' : 'password'"
                id="mpin"
                name="mpin"
                maxlength="4"
                pattern="[0-9]*"
                class="form-control bg-dark text-white border-secondary"
                [(ngModel)]="mpin"
                required
                placeholder="Enter 4-digit MPIN">
              <span class="position-absolute top-50 end-0 translate-middle-y me-3" style="cursor:pointer;" (click)="toggleMPIN()">
                <i [ngClass]="showMPIN ? 'bi-eye-fill text-white' : 'bi-eye-slash-fill text-white'"></i>
              </span>
            </div>
            <div *ngIf="registerForm.controls['mpin']?.invalid && (registerForm.controls['mpin']?.touched || registerForm.submitted)" class="text-danger small mt-1">
              MPIN is required.
            </div>
          </div>

          <!-- Full Name -->
          <div class="mb-3">
            <label for="fullName" class="form-label fw-semibold text-light">Full Name</label>
            <input
              type="text"
              id="fullName"
              name="fullName"
              class="form-control bg-dark text-white border-secondary"
              [(ngModel)]="fullName"
              required
              placeholder="Enter Full Name">
            <div *ngIf="registerForm.controls['fullName']?.invalid && (registerForm.controls['fullName']?.touched || registerForm.submitted)" class="text-danger small mt-1">
              Full Name is required.
            </div>
          </div>

          <!-- Mobile Number -->
          <div class="mb-3">
            <label for="mobileNumber" class="form-label fw-semibold text-light">Mobile Number</label>
            <input
              type="text"
              id="mobileNumber"
              name="mobileNumber"
              class="form-control bg-dark text-white border-secondary"
              [(ngModel)]="mobileNumber"
              required
              placeholder="Enter Mobile Number">
            <div *ngIf="registerForm.controls['mobileNumber']?.invalid && (registerForm.controls['mobileNumber']?.touched || registerForm.submitted)" class="text-danger small mt-1">
              Mobile Number is required.
            </div>
          </div>

          <!-- Date of Birth -->
          <div class="mb-4">
            <label for="dateOfBirth" class="form-label fw-semibold text-light">Date of Birth</label>
            <input
              type="date"
              id="dateOfBirth"
              name="dateOfBirth"
              class="form-control bg-dark text-white border-secondary"
              [(ngModel)]="dateOfBirth"
              required>
            <div *ngIf="registerForm.controls['dateOfBirth']?.invalid && (registerForm.controls['dateOfBirth']?.touched || registerForm.submitted)" class="text-danger small mt-1">
              Date of Birth is required.
            </div>
          </div>

          <!-- Submit Button -->
          <div class="d-grid">
            <button type="submit" class="btn btn-outline-light fw-semibold">Register</button>
          </div>

          <!-- Navigation -->
          <div class="text-center mt-3">
            <a [routerLink]="['/login']" class="text-decoration-none text-info small">Already have an account? Login here.</a>
          </div>

          <!-- Error Message -->
          <div *ngIf="errorMsg" class="text-danger text-center mt-3 small">
            {{ errorMsg }}
          </div>

        </form>
      </div>
    </div>

  </div>
</div>
